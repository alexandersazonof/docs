---
title: Começo Rápido
---

This guide will quickly take you through how to initialize, create, and deploy your subgraph to Subgraph Studio.

Garanta que o seu subgraph indexará dados de uma [rede apoiada](/developing/supported-networks).

Este guia presume que tem:

- Uma carteira de criptomoedas
- Um endereço de contrato inteligente na rede da sua escolha

## 1. Como criar um subgraph no Subgraph Studio

Entre no [Subgraph Studio](https://thegraph.com/studio/) e conecte a sua carteira de criptomoedas.

Once your wallet is connected, you can begin by clicking “Create a Subgraph." It is recommended to name the subgraph in Title Case: "Subgraph Name Chain Name."

## 2. Como instalar o Graph CLI

The Graph CLI is written in TypeScript and you will need to have `node` and either `npm` or `yarn` installed to use it. Check that you have the most recent CLI version installed.

Execute um dos seguintes comandos na sua máquina local:

Uso de [npm](https://www.npmjs.com/):

```sh
npm install -g @graphprotocol/graph-cli@latest
```

Uso de [yarn](https://yarnpkg.com/):

```sh
yarn global add @graphprotocol/graph-cli
```

## 3. Initialize your subgraph from existing contract

Initialize your subgraph from an existing contract by running the initialize command:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

> Veja comandos para o seu subgraph específico na página do subgraph no [Subgraph Studio](https://thegraph.com/studio/).

Ao inicializar o seu subgraph, a ferramenta CLI pedirá pelas seguintes informações:

- Protocolo: Escolha o protocolo do qual o subgraph indexará dados
- Slug do subgraph: crie um nome para o seu subgraph. O slug serve como uma identidade para o seu subgraph.
- Diretório onde o subgraph será criado: escolha o seu diretório local
- Rede Ethereum (opcional): é possível que tenha de especificar a rede compatível com EVM de onde o seu subgraph indexará dados
- Endereço de contrato: Localize o endereço do contrato inteligente do qual quer consultar dados
- ABI: Se a ABI não estiver preenchida automaticamente, insira-a manualmente como um arquivo JSON
- Bloco Inicial: Insira o bloco inicial para poupar tempo enquanto o seu subgraph indexa dados da blockchain. O bloco inicial pode ser localizado ao encontrar o bloco onde o seu contrato foi lançado.
- Nome do Contrato: insira o nome do seu contrato
- Indexar eventos de contrato como entidades: é sugerido configurar isto como true, já que ele automaticamente adicionará mapeamentos ao seu subgraph para cada evento emitido
- Adicionar outro contrato (opcional): adicionar outro contrato

Veja a imagem a seguir para um exemplo do que esperar quando for inicializar o seu subgraph:

![Comando do subgraph](/img/subgraph-init-example.png)

## 4. Write your subgraph

O comando interior cria um subgraph de altura que pode ser usado como ponto de partida para construir o seu subgraph. Enquanto faz mudanças ao subgraph, trabalhará principalmente com três arquivos:

- Manifest (`subgraph.yaml`) - The manifest defines what datasources your subgraphs will index.
- Schema (`schema.graphql`) - The GraphQL schema defines what data you wish to retrieve from the subgraph.
- AssemblyScript Mappings (`mapping.ts`) - This is the code that translates data from your datasources to the entities defined in the schema.

For more information on how to write your subgraph, see [Creating a Subgraph](/developing/creating-a-subgraph).

## 5. Deploy to Subgraph Studio

Quando o seu subgraph estiver escrito, execute os seguintes comandos:

```sh
$ graph codegen
$ graph build
```

- Autentique e lance o seu subgraph. A chave de lançamento (deploy key) pode ser encontrada na página "Subgraph" do Subgraph Studio.

```sh
$ graph auth --studio <DEPLOY_KEY>
$ graph deploy --studio <SUBGRAPH_SLUG>
```

Há de inserir um rótulo de versão. É altamente recomendado usar o [semver](https://semver.org/) para números de versão, como `0.0.1`. Dito isto, dá para escolher qualquer string como versão, por exemplo: `v1`, `version1`, `asdf`.

## 6. Como testar o seu subgraph

In Subgraph Studio's playground environment, you can test your subgraph by making a sample query.

Os logs dirão-lhe se há quaisquer erros com o seu subgraph. Os logs de um subgraph operacional parecerão com isto:

![Logs do subgraph](/img/subgraph-logs-image.png)

Se o seu subgraph continuar a falhar, faça um query sobre a saúde do subgraph com o GraphiQL Playground. Perceba que dá para usar o query abaixo e inserir sua ID de lançamento para seu subgraph. Neste caso, `Qm...` é a ID de lançamento (na página Subgraph sob **Detalhes**). O texto abaixo te dirá quando um subgraph falha para que você possa fazer o debug de acordo:

```graphql
{
  indexingStatuses(subgraphs: ["Qm..."]) {
    node
    synced
    health
    fatalError {
      message
      block {
        number
        hash
      }
      handler
    }
    nonFatalErrors {
      message
      block {
        number
        hash
      }
      handler
    }
    chains {
      network
      chainHeadBlock {
        number
      }
      earliestBlock {
        number
      }
      latestBlock {
        number
      }
      lastHealthyBlock {
        number
      }
    }
    entityCount
  }
}
```

## 7. Publish your subgraph to The Graph’s Decentralized Network

Once your subgraph has been deployed to Subgraph Studio, you have tested it out, and you are ready to put it into production, you can then publish it to the decentralized network.

In Subgraph Studio, you will be able to click the publish button on the top right of your subgraph's page.

Selecione a rede onde quer editar o seu subgraph. Vale editar subgraphs no Arbitrum One, para aproveitar as [transações mais rápidas e custos menores de gas](/arbitrum/arbitrum-faq).

The (upgrade Indexer)[/sunrise/#about-the-upgrade-indexer] will begin serving queries on your subgraph regardless of subgraph curation, and it will provide you with 100,000 free queries per month.

For a higher quality of service and stronger redundancy, you can curate your subgraph to attract more Indexers. At the time of writing, it is recommended that you curate your own subgraph with at least 3,000 GRT to ensure 3-5 additional Indexers begin serving queries on your subgraph.

Para poupar custos de gas, cure o seu subgraph na mesma transação em que ele foi publicado, ao selecionar este botão quando publicar o seu subgraph na rede descentralizada do The Graph:

![Editar subgraph](/img/publish-and-signal-tx.png)

## 8. Query your subgraph

Agora, podes consultar o seu subgraph com o envio de queries GraphQL para o URL de Consulta do seu subgraph, que pode ser visto ao clicar no botão Query (consultas).

If you don't have your API key, you can query via the free, rate-limited development query URL, which can be used for development and staging.

Para mais informações sobre queries de dados do seu subgraph, leia mais [aqui](/querying/querying-the-graph/).
